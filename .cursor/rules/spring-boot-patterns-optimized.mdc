# ğŸ¯ Spring Boot íŒ¨í„´ ê°€ì´ë“œ - Few-shot Learning

## ğŸ“š í•™ìŠµ ì˜ˆì‹œ (Learning Examples)

### 1. ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ í•™ìŠµ

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (CORRECT)
```java
@RestController
@RequestMapping("/api/users")
@Slf4j
public class UserApiDC {
    
    private final UserService userService;
    
    public UserApiDC(UserService userService) {
        this.userService = userService;
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<UserDto> getUser(@PathVariable Long id) {
        log.info("ì‚¬ìš©ì ì¡°íšŒ ìš”ì²­: id={}", id);
        UserDto user = userService.getUserById(id);
        return ResponseEntity.ok(user);
    }
    
    @PostMapping
    public ResponseEntity<UserDto> createUser(@Valid @RequestBody CreateUserRequest request) {
        log.info("ì‚¬ìš©ì ìƒì„± ìš”ì²­: email={}", request.getEmail());
        UserDto createdUser = userService.createUser(request);
        return ResponseEntity.status(HttpStatus.CREATED).body(createdUser);
    }
}
```

#### âŒ ì˜ëª»ëœ ì˜ˆì‹œ (INCORRECT)
```java
// ì˜ëª»ëœ ì˜ˆì‹œ - ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ
@Controller
public class UserController {  // DC ì ‘ë¯¸ì‚¬ ëˆ„ë½
    
    @Autowired  // í•„ë“œ ì£¼ì… ì‚¬ìš©
    private UserService userService;
    
    @GetMapping("/users/{id}")
    public UserDto getUser(@PathVariable Long id) {  // ResponseEntity ì—†ìŒ
        return userService.getUserById(id);
    }
    
    @PostMapping("/users")
    public void createUser(@RequestBody CreateUserRequest request) {  // ì‘ë‹µ ì—†ìŒ
        userService.createUser(request);
    }
}
```

### 2. ì„œë¹„ìŠ¤ íŒ¨í„´ í•™ìŠµ

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (CORRECT)
```java
@Service
@Transactional
@Slf4j
public class UserServiceImpl implements UserService {
    
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;
    
    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {
        this.userRepository = userRepository;
        this.passwordEncoder = passwordEncoder;
    }
    
    @Override
    public UserDto createUser(CreateUserRequest request) {
        log.info("ì‚¬ìš©ì ìƒì„± ì‹œì‘: email={}", request.getEmail());
        
        try {
            // ì¤‘ë³µ ê²€ì‚¬
            if (userRepository.existsByEmail(request.getEmail())) {
                throw new DuplicateEmailException("ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.");
            }
            
            // ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
            String encodedPassword = passwordEncoder.encode(request.getPassword());
            
            // ì—”í‹°í‹° ìƒì„±
            User user = User.builder()
                .email(request.getEmail())
                .password(encodedPassword)
                .name(request.getName())
                .role(Role.USER)
                .build();
            
            // ì €ì¥
            User savedUser = userRepository.save(user);
            
            log.info("ì‚¬ìš©ì ìƒì„± ì™„ë£Œ: userId={}", savedUser.getId());
            return UserDto.from(savedUser);
            
        } catch (Exception e) {
            log.error("ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨: email={}, error={}", 
                     request.getEmail(), e.getMessage(), e);
            throw e;
        }
    }
}
```

#### âŒ ì˜ëª»ëœ ì˜ˆì‹œ (INCORRECT)
```java
// ì˜ëª»ëœ ì˜ˆì‹œ - ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ
public class UserService {  // @Service ì–´ë…¸í…Œì´ì…˜ ëˆ„ë½
    
    @Autowired
    private UserRepository userRepository;
    
    public UserDto createUser(CreateUserRequest request) {  // @Transactional ëˆ„ë½
        User user = new User();
        user.setEmail(request.getEmail());
        user.setPassword(request.getPassword());  // ì•”í˜¸í™” ì—†ìŒ
        userRepository.save(user);
        return new UserDto();  // ë§¤í•‘ ì—†ìŒ
    }
}
```

### 3. DTO íŒ¨í„´ í•™ìŠµ

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (CORRECT)
```java
@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class CreateUserRequest {
    
    @NotBlank(message = "ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Email(message = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤")
    private String email;
    
    @NotBlank(message = "ë¹„ë°€ë²ˆí˜¸ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Size(min = 8, message = "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤")
    private String password;
    
    @NotBlank(message = "ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    private String name;
}

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class UserDto {
    private Long id;
    private String email;
    private String name;
    private String role;
    private LocalDateTime createdAt;
    
    public static UserDto from(User user) {
        return UserDto.builder()
            .id(user.getId())
            .email(user.getEmail())
            .name(user.getName())
            .role(user.getRole().name())
            .createdAt(user.getCreatedAt())
            .build();
    }
}
```

#### âŒ ì˜ëª»ëœ ì˜ˆì‹œ (INCORRECT)
```java
// ì˜ëª»ëœ ì˜ˆì‹œ - ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ
public class CreateUser {  // Request ì ‘ë¯¸ì‚¬ ëˆ„ë½, ê²€ì¦ ì—†ìŒ
    private String email;
    private String password;
    private String name;
    // getter/setter ì—†ìŒ
}

public class User {  // Dto ì ‘ë¯¸ì‚¬ ëˆ„ë½
    private Long id;
    private String email;
    // ë§¤í•‘ ë©”ì„œë“œ ì—†ìŒ
}
```

### 4. ì˜ˆì™¸ ì²˜ë¦¬ íŒ¨í„´ í•™ìŠµ

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (CORRECT)
```java
public abstract class BusinessException extends RuntimeException {
    private final String errorCode;
    
    protected BusinessException(String message, String errorCode) {
        super(message);
        this.errorCode = errorCode;
    }
    
    public String getErrorCode() {
        return errorCode;
    }
}

public class UserNotFoundException extends BusinessException {
    public UserNotFoundException(String message) {
        super(message, "USER_NOT_FOUND");
    }
}

public class DuplicateEmailException extends BusinessException {
    public DuplicateEmailException(String message) {
        super(message, "DUPLICATE_EMAIL");
    }
}

@RestControllerAdvice
@Slf4j
public class GlobalExceptionHandler {
    
    @ExceptionHandler(UserNotFoundException.class)
    public ResponseEntity<ErrorResponse> handleUserNotFound(UserNotFoundException e) {
        log.warn("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ: {}", e.getMessage());
        
        ErrorResponse error = ErrorResponse.builder()
            .errorCode(e.getErrorCode())
            .message(e.getMessage())
            .timestamp(LocalDateTime.now())
            .build();
        
        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);
    }
}
```

#### âŒ ì˜ëª»ëœ ì˜ˆì‹œ (INCORRECT)
```java
// ì˜ëª»ëœ ì˜ˆì‹œ - ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ
public class UserException extends Exception {  // RuntimeException ì‚¬ìš© ì•ˆ í•¨
    // ì—ëŸ¬ ì½”ë“œ ì—†ìŒ
}

// ì˜ˆì™¸ ì²˜ë¦¬ ì—†ì´ null ë°˜í™˜
public UserDto getUserById(Long id) {
    Optional<User> user = userRepository.findById(id);
    return user.orElse(null);  // ì˜ˆì™¸ ì²˜ë¦¬ ì—†ìŒ
}
```

## ğŸ¯ í•µì‹¬ íŒ¨í„´ ìš”ì•½

### ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  íŒ¨í„´ (MUST FOLLOW)
1. **ì»¨íŠ¸ë¡¤ëŸ¬**: `@RestController` + `ResponseEntity` ì‚¬ìš©
2. **ì„œë¹„ìŠ¤**: `@Service` + `@Transactional` + ìƒì„±ì ì£¼ì…
3. **DTO**: `@Valid` ê²€ì¦ + `from()` ë§¤í•‘ ë©”ì„œë“œ
4. **ì˜ˆì™¸**: êµ¬ì²´ì  ì˜ˆì™¸ í´ë˜ìŠ¤ + ê¸€ë¡œë²Œ í•¸ë“¤ëŸ¬
5. **ë¡œê¹…**: `@Slf4j` + ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨

### ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  íŒ¨í„´ (NEVER DO)
1. **ì»¨íŠ¸ë¡¤ëŸ¬**: í•„ë“œ ì£¼ì… + `ResponseEntity` ìƒëµ
2. **ì„œë¹„ìŠ¤**: ì–´ë…¸í…Œì´ì…˜ ìƒëµ + ì˜ˆì™¸ ì²˜ë¦¬ ì—†ìŒ
3. **DTO**: ê²€ì¦ ì—†ìŒ + ë§¤í•‘ ë©”ì„œë“œ ì—†ìŒ
4. **ì˜ˆì™¸**: `RuntimeException`ë§Œ ì‚¬ìš© + í•¸ë“¤ëŸ¬ ì—†ìŒ
5. **ë¡œê¹…**: `System.out.println()` ì‚¬ìš©

## ğŸ”¥ ìš°ì„ ìˆœìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì½”ë“œ ìƒì„± ì‹œ ë°˜ë“œì‹œ í™•ì¸:

- [ ] ì ì ˆí•œ Spring Boot ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©?
- [ ] ìƒì„±ì ì£¼ì… ì‚¬ìš©?
- [ ] ResponseEntityë¡œ ì‘ë‹µ ë˜í•‘?
- [ ] @Validë¡œ ì…ë ¥ ê²€ì¦?
- [ ] êµ¬ì²´ì  ì˜ˆì™¸ í´ë˜ìŠ¤ ì‚¬ìš©?
- [ ] SLF4J ë¡œê¹… ì‚¬ìš©?
- [ ] DTO ë§¤í•‘ ë©”ì„œë“œ êµ¬í˜„?
- [ ] íŠ¸ëœì­ì…˜ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©?
description:
globs:
alwaysApply: false
---
