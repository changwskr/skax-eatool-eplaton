# ğŸš¨ CRITICAL RULES - ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  í•µì‹¬ ê·œì¹™

## âš ï¸ ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒë“¤ (NEVER DO)

### 1. ëª…ëª… ê·œì¹™ ìœ„ë°˜ ê¸ˆì§€
âŒ **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:**
- í´ë˜ìŠ¤ëª…ì— camelCase ì‚¬ìš© (ì˜ˆ: `userService`)
- ë©”ì„œë“œëª…ì— PascalCase ì‚¬ìš© (ì˜ˆ: `GetUser`)
- ìƒìˆ˜ì— camelCase ì‚¬ìš© (ì˜ˆ: `maxRetryCount`)
- DTO í´ë˜ìŠ¤ëª…ì— `Dto` ì ‘ë¯¸ì‚¬ ìƒëµ (ì˜ˆ: `User` ëŒ€ì‹  `UserDto` ì‚¬ìš©)

âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ:**
- í´ë˜ìŠ¤ëª…: PascalCase (ì˜ˆ: `UserService`)
- ë©”ì„œë“œëª…: camelCase (ì˜ˆ: `getUserById`)
- ìƒìˆ˜: ALL_CAPS (ì˜ˆ: `MAX_RETRY_COUNT`)
- DTO: `XXXDto` ì ‘ë¯¸ì‚¬ í•„ìˆ˜ (ì˜ˆ: `UserDto`)

### 2. íŒ¨í‚¤ì§€ êµ¬ì¡° ìœ„ë°˜ ê¸ˆì§€
âŒ **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:**
- `com.skax.eatool` íŒ¨í‚¤ì§€ ì™¸ë¶€ì— í´ë˜ìŠ¤ ìƒì„±
- ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ `service` íŒ¨í‚¤ì§€ì— ë°°ì¹˜
- DTOë¥¼ `entity` íŒ¨í‚¤ì§€ì— ë°°ì¹˜
- ì„¤ì • í´ë˜ìŠ¤ë¥¼ `web` íŒ¨í‚¤ì§€ì— ë°°ì¹˜

âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ:**
- ëª¨ë“  í´ë˜ìŠ¤ëŠ” `com.skax.eatool.{module}` íŒ¨í‚¤ì§€ í•˜ìœ„ì— ìƒì„±
- ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `web/controller` íŒ¨í‚¤ì§€ì— ë°°ì¹˜
- DTOëŠ” `web/dto` íŒ¨í‚¤ì§€ì— ë°°ì¹˜
- ì„¤ì • í´ë˜ìŠ¤ëŠ” `config` íŒ¨í‚¤ì§€ì— ë°°ì¹˜

### 3. Spring Boot ì–´ë…¸í…Œì´ì…˜ ì˜¤ìš© ê¸ˆì§€
âŒ **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:**
- `@Service` ì—†ì´ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„±
- `@RestController` ì—†ì´ REST API ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±
- `@Transactional` ì—†ì´ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ìˆ˜í–‰
- `@Slf4j` ì—†ì´ ë¡œê¹… ì‚¬ìš©

âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ:**
- ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì—ëŠ” `@Service` í•„ìˆ˜
- REST API ì»¨íŠ¸ë¡¤ëŸ¬ì—ëŠ” `@RestController` í•„ìˆ˜
- ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì—ëŠ” `@Transactional` í•„ìˆ˜
- ë¡œê¹…ì´ í•„ìš”í•œ í´ë˜ìŠ¤ì—ëŠ” `@Slf4j` í•„ìˆ˜

### 4. ì˜ˆì™¸ ì²˜ë¦¬ ë¬´ì‹œ ê¸ˆì§€
âŒ **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:**
- ì˜ˆì™¸ë¥¼ catchí•˜ì§€ ì•Šê³  ë¬´ì‹œ
- `RuntimeException`ë§Œ ì‚¬ìš©í•˜ê³  êµ¬ì²´ì  ì˜ˆì™¸ ìƒì„± ì•ˆ í•¨
- ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ ì˜ì–´ë¡œë§Œ ì‘ì„±
- ë¡œê¹… ì—†ì´ ì˜ˆì™¸ ë°œìƒ

âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ:**
- ëª¨ë“  ì˜ˆì™¸ëŠ” ì ì ˆíˆ ì²˜ë¦¬í•˜ê±°ë‚˜ ìƒìœ„ë¡œ ì „íŒŒ
- êµ¬ì²´ì ì¸ ì˜ˆì™¸ í´ë˜ìŠ¤ ìƒì„± (`UserNotFoundException`)
- ì˜ˆì™¸ ë©”ì‹œì§€ëŠ” í•œê¸€ë¡œ ì‘ì„±
- ì˜ˆì™¸ ë°œìƒ ì‹œ ë°˜ë“œì‹œ ë¡œê¹…

### 5. ë¡œê¹… ê·œì¹™ ìœ„ë°˜ ê¸ˆì§€
âŒ **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:**
- `System.out.println()` ì‚¬ìš©
- ë¡œê·¸ ë ˆë²¨ êµ¬ë¶„ ì—†ì´ ëª¨ë“  ë¡œê·¸ë¥¼ INFOë¡œ ì‘ì„±
- ë¯¼ê°í•œ ì •ë³´(ë¹„ë°€ë²ˆí˜¸, í† í°)ë¥¼ ë¡œê·¸ì— ì¶œë ¥
- ë¡œê·¸ ë©”ì‹œì§€ì— ë³€ìˆ˜ ì •ë³´ ì—†ì´ ì‘ì„±

âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ:**
- `log.info()`, `log.error()`, `log.debug()` ì‚¬ìš©
- ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨ ì„ íƒ (ERROR > WARN > INFO > DEBUG)
- ë¯¼ê°í•œ ì •ë³´ëŠ” ë§ˆìŠ¤í‚¹ ì²˜ë¦¬
- ë¡œê·¸ ë©”ì‹œì§€ì— ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í¬í•¨ (ì˜ˆ: `log.info("ì‚¬ìš©ì ìƒì„±: email={}", email)`)

## ğŸ¯ ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  í•µì‹¬ íŒ¨í„´

### 1. ì»´í¬ë„ŒíŠ¸ë³„ ëª…ëª… ê·œì¹™ (MUST FOLLOW)
```java
// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
@Controller
public class UserManagementPC { }  // PC: Presentation Controller

@RestController
public class UserApiDC { }         // DC: Data Controller

public class UserDto { }           // DTO: Data Transfer Object

@Mapper
public interface UserMapper { }     // Mapper: MyBatis Mapper

@Service
public class UserServiceImpl implements UserService { }  // Service: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

public class UserNotFoundException extends BusinessException { }  // Exception: ì˜ˆì™¸
```

### 2. íŒ¨í‚¤ì§€ êµ¬ì¡° ê·œì¹™ (MUST FOLLOW)
```
com.skax.eatool.{module}/
â”œâ”€â”€ config/           # ì„¤ì • í´ë˜ìŠ¤ë§Œ
â”œâ”€â”€ web/             # ì›¹ ë ˆì´ì–´ë§Œ
â”‚   â”œâ”€â”€ controller/  # ì»¨íŠ¸ë¡¤ëŸ¬ë§Œ
â”‚   â””â”€â”€ dto/         # DTOë§Œ
â”œâ”€â”€ service/         # ì„œë¹„ìŠ¤ ë ˆì´ì–´ë§Œ
â”‚   â””â”€â”€ impl/        # ì„œë¹„ìŠ¤ êµ¬í˜„ì²´ë§Œ
â”œâ”€â”€ repository/      # ë°ì´í„° ì•¡ì„¸ìŠ¤ë§Œ
â”‚   â””â”€â”€ mapper/      # MyBatis ë§¤í¼ë§Œ
â”œâ”€â”€ entity/          # ì—”í‹°í‹°ë§Œ
â”œâ”€â”€ exception/       # ì˜ˆì™¸ í´ë˜ìŠ¤ë§Œ
â””â”€â”€ util/            # ìœ í‹¸ë¦¬í‹°ë§Œ
```

### 3. ì½”ë“œ ìŠ¤íƒ€ì¼ ê·œì¹™ (MUST FOLLOW)
```java
/**
 * í´ë˜ìŠ¤ ì„¤ëª… - ë°˜ë“œì‹œ Javadoc ì‘ì„±
 * 
 * @author ì‘ì„±ì
 * @version 1.0
 * @since 2024-01-01
 */
@Service
@Transactional
@Slf4j
public class UserService {
    
    // ìƒìˆ˜ëŠ” ëŒ€ë¬¸ìì™€ ì–¸ë”ìŠ¤ì½”ì–´ - ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•¨
    private static final String DEFAULT_ROLE = "USER";
    private static final int MAX_RETRY_COUNT = 3;
    
    // í•„ë“œëŠ” private final ìš°ì„  - ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•¨
    private final UserRepository userRepository;
    
    // ìƒì„±ì ì£¼ì… - ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•¨
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    // ë©”ì„œë“œëŠ” public, protected, private ìˆœì„œ - ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•¨
    public UserDto createUser(CreateUserRequest request) {
        log.info("ì‚¬ìš©ì ìƒì„± ì‹œì‘: email={}", request.getEmail());
        
        try {
            validateUserRequest(request);
            User user = mapToUser(request);
            User savedUser = userRepository.save(user);
            
            log.info("ì‚¬ìš©ì ìƒì„± ì™„ë£Œ: userId={}", savedUser.getId());
            return UserDto.from(savedUser);
        } catch (Exception e) {
            log.error("ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨: email={}, error={}", 
                     request.getEmail(), e.getMessage(), e);
            throw e;
        }
    }
    
    private void validateUserRequest(CreateUserRequest request) {
        if (request == null) {
            throw new IllegalArgumentException("ìš”ì²­ì´ nullì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        if (StringUtils.isEmpty(request.getEmail())) {
            throw new IllegalArgumentException("ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.");
        }
    }
}
```

## ğŸ”¥ ìš°ì„ ìˆœìœ„ ê·œì¹™ (PRIORITY RULES)

### 1. ìµœìš°ì„  ê·œì¹™ (HIGHEST PRIORITY)
- **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**: `com.skax.eatool` íŒ¨í‚¤ì§€ ì™¸ë¶€ì— í´ë˜ìŠ¤ ìƒì„±
- **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ**: ëª¨ë“  í´ë˜ìŠ¤ëŠ” `com.skax.eatool.{module}` íŒ¨í‚¤ì§€ í•˜ìœ„ì— ìƒì„±

### 2. ë†’ì€ ìš°ì„ ìˆœìœ„ (HIGH PRIORITY)
- **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**: ëª…ëª… ê·œì¹™ ìœ„ë°˜ (PC, DC, DTO, Mapper ë“±)
- **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ**: ì»´í¬ë„ŒíŠ¸ë³„ ëª…ëª… ê·œì¹™ ì—„ê²© ì¤€ìˆ˜

### 3. ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (MEDIUM PRIORITY)
- **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**: Spring Boot ì–´ë…¸í…Œì´ì…˜ ìƒëµ
- **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ**: ì ì ˆí•œ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©

### 4. ë‚®ì€ ìš°ì„ ìˆœìœ„ (LOW PRIORITY)
- **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**: ë¡œê¹… ê·œì¹™ ìœ„ë°˜
- **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ**: SLF4J ë¡œê¹… ì‚¬ìš©

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸ (MUST CHECK)

ì½”ë“œ ìƒì„± ì‹œ ë°˜ë“œì‹œ í™•ì¸í•  ì‚¬í•­:

- [ ] íŒ¨í‚¤ì§€ëª…ì´ `com.skax.eatool.{module}` í˜•ì‹ì¸ê°€?
- [ ] í´ë˜ìŠ¤ëª…ì´ ì»´í¬ë„ŒíŠ¸ë³„ ëª…ëª… ê·œì¹™ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] ì ì ˆí•œ Spring Boot ì–´ë…¸í…Œì´ì…˜ì´ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€?
- [ ] Javadocì´ ì‘ì„±ë˜ì—ˆëŠ”ê°€?
- [ ] ë¡œê¹…ì´ ì ì ˆíˆ êµ¬í˜„ë˜ì—ˆëŠ”ê°€?
- [ ] ì˜ˆì™¸ ì²˜ë¦¬ê°€ êµ¬í˜„ë˜ì—ˆëŠ”ê°€?
- [ ] ë“¤ì—¬ì“°ê¸°ê°€ 4ì¹¸ ìŠ¤í˜ì´ìŠ¤ì¸ê°€?
- [ ] í•œê¸€ ì£¼ì„ì´ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€?

## ğŸ“š ì°¸ê³  ë¬¸ì„œ
- [í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ](mdc:PROJECT_STRUCTURE.md)
- [ê°œë°œ ê°€ì´ë“œ](mdc:zDoc/mbc-java-guide.md)
- [ì½”ë”© ì»¨ë²¤ì…˜](mdc:.cursor/rules/coding-standards.mdc)
description:
globs:
alwaysApply: false
---
