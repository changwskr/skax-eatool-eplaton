# Backend Directory Structure Rules

## ğŸ“ **SKAX EA Tool Eplaton Backend Architecture**

### **ğŸ—ï¸ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°**

```
skax-eatool-eplaton-master/
â”œâ”€â”€ ğŸ“¦ Multi-Module Maven Project
â”‚   â”œâ”€â”€ ksa-lib/          # KSA Library (External JAR)
â”‚   â”œâ”€â”€ ksa-java/         # KSA Java Implementation
â”‚   â”œâ”€â”€ kji-lib/          # KJI Library (External JAR)
â”‚   â”œâ”€â”€ kji-java/         # KJI Java Implementation
â”‚   â”œâ”€â”€ mbc01-lib/        # MBC01 Library (External JAR)
â”‚   â”œâ”€â”€ mbc01-java/       # MBC01 Java Implementation
â”‚   â”œâ”€â”€ mbc-java/         # MBC Java (Main Application)
â”‚   â”œâ”€â”€ mba-java/         # MBA Java (Master Business Application)
â”‚   â””â”€â”€ spring-cloud-apigateway-service/  # API Gateway
â”œâ”€â”€ ğŸ“‹ Configuration Files
â”‚   â”œâ”€â”€ pom.xml           # Root Maven Configuration
â”‚   â”œâ”€â”€ checkstyle.xml    # Code Style Rules
â”‚   â””â”€â”€ docker-compose.yml # Container Orchestration
â””â”€â”€ ğŸ› ï¸ Development Tools
    â”œâ”€â”€ zCICD/            # CI/CD Configuration
    â”œâ”€â”€ z-prometheus-grafana/  # Monitoring Stack
    â””â”€â”€ z-micrometer-prometheus/ # Metrics Collection
```

### **ğŸ¯ MUST FOLLOW - ë””ë ‰í† ë¦¬ êµ¬ì¡° ê·œì¹™**

#### **1. ëª¨ë“ˆë³„ íŒ¨í‚¤ì§€ êµ¬ì¡°**
```
ğŸ“¦ {module-name}-java/
â”œâ”€â”€ src/main/java/com/skax/eatool/{module}/
â”‚   â”œâ”€â”€ {Module}Application.java    # Spring Boot Main Class
â”‚   â”œâ”€â”€ config/                     # Configuration Classes
â”‚   â”œâ”€â”€ ac/                         # Application Control Layer
â”‚   â”œâ”€â”€ as/                         # Application Service Layer
â”‚   â”œâ”€â”€ pc/                         # Presentation Control Layer
â”‚   â”œâ”€â”€ dc/                         # Data Control Layer
â”‚   â”œâ”€â”€ ic/                         # Interface Control Layer
â”‚   â”œâ”€â”€ web/                        # Web Layer (Controllers)
â”‚   â”œâ”€â”€ util/                       # Utility Classes
â”‚   â””â”€â”€ {domain-specific}/          # Domain-specific packages
â””â”€â”€ src/main/resources/
    â”œâ”€â”€ application.yml             # Application Configuration
    â”œâ”€â”€ mapper/                     # MyBatis Mapper XML
    â””â”€â”€ templates/                  # Thymeleaf Templates
```

#### **2. ë ˆì´ì–´ë³„ ë””ë ‰í† ë¦¬ ê·œì¹™**

**âœ… AC (Application Control) Layer**
```
ac/
â”œâ”€â”€ accountac/      # Account Application Control
â”œâ”€â”€ reportac/       # Report Application Control
â”œâ”€â”€ usermgtac/      # User Management Application Control
â”œâ”€â”€ eplatonac/      # EPlaton Application Control
â”œâ”€â”€ runtimeac/      # Runtime Application Control
â””â”€â”€ commonac/       # Common Application Control
```

**âœ… AS (Application Service) Layer**
```
as/
â”œâ”€â”€ accountas/      # Account Application Service
â”œâ”€â”€ reportas/       # Report Application Service
â”œâ”€â”€ usermgtas/      # User Management Application Service
â”œâ”€â”€ commonas/       # Common Application Service
â”œâ”€â”€ bzcrudbus/      # Business CRUD Business
â”œâ”€â”€ usermgtpilotas/ # User Management Pilot Application Service
â”œâ”€â”€ testas/         # Test Application Service
â””â”€â”€ runtimeas/      # Runtime Application Service
```

**âœ… PC (Presentation Control) Layer**
```
pc/
â”œâ”€â”€ accountpc/      # Account Presentation Control
â”œâ”€â”€ reportpc/       # Report Presentation Control
â”œâ”€â”€ userpc/         # User Presentation Control
â”œâ”€â”€ commonpc/       # Common Presentation Control
â”œâ”€â”€ dto/            # Data Transfer Objects
â”œâ”€â”€ UserTest/       # User Test
â””â”€â”€ usermanagementpilotpc/ # User Management Pilot PC
```

**âœ… DC (Data Control) Layer**
```
dc/
â”œâ”€â”€ accountdc/      # Account Data Control
â”œâ”€â”€ reportdc/       # Report Data Control
â”œâ”€â”€ usermgtdc/      # User Management Data Control
â”œâ”€â”€ runtimedc/      # Runtime Data Control
â”œâ”€â”€ UserTest/       # User Test
â””â”€â”€ usermgtpilotdc/ # User Management Pilot Data Control
```

**âœ… IC (Interface Control) Layer**
```
ic/
â””â”€â”€ authic/         # Authentication Interface Control
```

**âœ… Web Layer**
```
web/
â”œâ”€â”€ account/        # Account Web Controllers
â”œâ”€â”€ home/           # Home Web Controllers
â”œâ”€â”€ welcome/        # Welcome Web Controllers
â”œâ”€â”€ monitoring/     # Monitoring Web Controllers
â”œâ”€â”€ swagger/        # Swagger Documentation
â”œâ”€â”€ testas/         # Test Application Service Web
â”œâ”€â”€ commonas/       # Common Application Service Web
â””â”€â”€ accountas/      # Account Application Service Web
```

### **ğŸš« NEVER DO - ë””ë ‰í† ë¦¬ êµ¬ì¡° ìœ„ë°˜ì‚¬í•­**

#### **1. íŒ¨í‚¤ì§€ ëª…ëª… ê·œì¹™ ìœ„ë°˜**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ
com.skax.eatool.mbc.controller  // controller ëŒ€ì‹  web ì‚¬ìš©
com.skax.eatool.mbc.service     // service ëŒ€ì‹  as ì‚¬ìš©
com.skax.eatool.mbc.repository  // repository ëŒ€ì‹  dc ì‚¬ìš©
com.skax.eatool.mbc.model       // model ëŒ€ì‹  pc/dto ì‚¬ìš©

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
com.skax.eatool.mbc.web         // Web Layer
com.skax.eatool.mbc.as          // Application Service Layer
com.skax.eatool.mbc.dc          // Data Control Layer
com.skax.eatool.mbc.pc.dto      // Presentation Control DTO
```

#### **2. ë ˆì´ì–´ í˜¼ì¬ ê¸ˆì§€**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ - ë ˆì´ì–´ í˜¼ì¬
@Controller
public class AccountController {  // web ë ˆì´ì–´ì— ìˆìŒ
    @Autowired
    private AccountService accountService;  // as ë ˆì´ì–´ ì˜ì¡´ì„±
    @Autowired
    private AccountRepository accountRepository;  // dc ë ˆì´ì–´ ì˜ì¡´ì„±
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ - ë ˆì´ì–´ ë¶„ë¦¬
@Controller
public class AccountController {  // web ë ˆì´ì–´
    @Autowired
    private AccountAS accountAS;  // as ë ˆì´ì–´ë§Œ ì˜ì¡´
}
```

#### **3. ë„ë©”ì¸ë³„ íŒ¨í‚¤ì§€ êµ¬ì¡° ìœ„ë°˜**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ - ë„ë©”ì¸ í˜¼ì¬
com.skax.eatool.mbc.ac.account
com.skax.eatool.mbc.as.user
com.skax.eatool.mbc.pc.report

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ - ë„ë©”ì¸ë³„ íŒ¨í‚¤ì§€
com.skax.eatool.mbc.ac.accountac
com.skax.eatool.mbc.as.accountas
com.skax.eatool.mbc.pc.accountpc
```

### **ğŸ“‹ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì²´í¬ë¦¬ìŠ¤íŠ¸**

#### **ìƒˆë¡œìš´ ëª¨ë“ˆ ìƒì„± ì‹œ**
- [ ] `{Module}Application.java` ë©”ì¸ í´ë˜ìŠ¤ ìƒì„±
- [ ] `config/` ë””ë ‰í† ë¦¬ ìƒì„± (ì„¤ì • í´ë˜ìŠ¤ìš©)
- [ ] `ac/` ë””ë ‰í† ë¦¬ ìƒì„± (Application Controlìš©)
- [ ] `as/` ë””ë ‰í† ë¦¬ ìƒì„± (Application Serviceìš©)
- [ ] `pc/` ë””ë ‰í† ë¦¬ ìƒì„± (Presentation Controlìš©)
- [ ] `dc/` ë””ë ‰í† ë¦¬ ìƒì„± (Data Controlìš©)
- [ ] `web/` ë””ë ‰í† ë¦¬ ìƒì„± (Web Controllerìš©)
- [ ] `util/` ë””ë ‰í† ë¦¬ ìƒì„± (Utility í´ë˜ìŠ¤ìš©)

#### **ìƒˆë¡œìš´ ë„ë©”ì¸ ì¶”ê°€ ì‹œ**
- [ ] `ac/{domain}ac/` ë””ë ‰í† ë¦¬ ìƒì„±
- [ ] `as/{domain}as/` ë””ë ‰í† ë¦¬ ìƒì„±
- [ ] `pc/{domain}pc/` ë””ë ‰í† ë¦¬ ìƒì„±
- [ ] `dc/{domain}dc/` ë””ë ‰í† ë¦¬ ìƒì„±
- [ ] `web/{domain}/` ë””ë ‰í† ë¦¬ ìƒì„± (í•„ìš”ì‹œ)

#### **íŒŒì¼ ë°°ì¹˜ ê·œì¹™**
- [ ] Controller í´ë˜ìŠ¤ëŠ” `web/` ë””ë ‰í† ë¦¬ì— ë°°ì¹˜
- [ ] Service í´ë˜ìŠ¤ëŠ” `as/` ë””ë ‰í† ë¦¬ì— ë°°ì¹˜
- [ ] Repository/DAO í´ë˜ìŠ¤ëŠ” `dc/` ë””ë ‰í† ë¦¬ì— ë°°ì¹˜
- [ ] DTO í´ë˜ìŠ¤ëŠ” `pc/dto/` ë””ë ‰í† ë¦¬ì— ë°°ì¹˜
- [ ] Configuration í´ë˜ìŠ¤ëŠ” `config/` ë””ë ‰í† ë¦¬ì— ë°°ì¹˜

### **ğŸ”§ íŠ¹ë³„í•œ ëª¨ë“ˆ êµ¬ì¡°**

#### **KSA (Kesa Service Application)**
```
ksa-java/
â”œâ”€â”€ controller/     # REST Controllers
â”œâ”€â”€ biz/           # Business Logic
â”œâ”€â”€ das/           # Data Access Service
â”œâ”€â”€ infra/         # Infrastructure
â”œâ”€â”€ oltp/          # OLTP Processing
â”œâ”€â”€ po/            # Persistent Objects
â”œâ”€â”€ exception/     # Custom Exceptions
â”œâ”€â”€ logger/        # Logging Components
â””â”€â”€ util/          # Utility Classes
```

#### **API Gateway**
```
spring-cloud-apigateway-service/
â”œâ”€â”€ config/        # Gateway Configuration
â”œâ”€â”€ filter/        # Gateway Filters
â””â”€â”€ ApigatewayServiceApplication.java
```

### **ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì‘ì„± ê°€ì´ë“œ**

#### **ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ ì‹œ**
1. **ë„ë©”ì¸ ì‹ë³„**: Account, User, Report ë“±
2. **ë ˆì´ì–´ë³„ íŒ¨í‚¤ì§€ ìƒì„±**: `{domain}ac`, `{domain}as`, `{domain}pc`, `{domain}dc`
3. **í´ë˜ìŠ¤ ë°°ì¹˜**: ê° ë ˆì´ì–´ì— ë§ëŠ” ë””ë ‰í† ë¦¬ì— ë°°ì¹˜
4. **ì˜ì¡´ì„± ê´€ë¦¬**: ìƒìœ„ ë ˆì´ì–´ì—ì„œ í•˜ìœ„ ë ˆì´ì–´ë¡œë§Œ ì˜ì¡´

#### **ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì‹œ**
1. **í˜„ì¬ ìœ„ì¹˜ í™•ì¸**: ì˜¬ë°”ë¥¸ ë ˆì´ì–´ì— ìˆëŠ”ì§€ í™•ì¸
2. **íŒ¨í‚¤ì§€ëª… ê²€ì¦**: ë„ë©”ì¸ë³„ íŒ¨í‚¤ì§€ êµ¬ì¡° ì¤€ìˆ˜
3. **ì˜ì¡´ì„± ê²€í† **: ë ˆì´ì–´ ê°„ ì˜ì¡´ì„± ê·œì¹™ ì¤€ìˆ˜
4. **ì´ë™ í•„ìš”ì‹œ**: ì˜¬ë°”ë¥¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™

### **âš ï¸ ì£¼ì˜ì‚¬í•­**

1. **ë ˆì´ì–´ ê°„ ì§ì ‘ ì˜ì¡´ ê¸ˆì§€**: web â†’ as â†’ dc ìˆœì„œë§Œ í—ˆìš©
2. **ë„ë©”ì¸ë³„ íŒ¨í‚¤ì§€ ë¶„ë¦¬**: ê° ë„ë©”ì¸ì€ ë…ë¦½ì ì¸ íŒ¨í‚¤ì§€ êµ¬ì¡°
3. **ê³µí†µ ì»´í¬ë„ŒíŠ¸**: `common` ì ‘ë‘ì‚¬ ì‚¬ìš©
4. **í…ŒìŠ¤íŠ¸ ì½”ë“œ**: `test` ì ‘ë‘ì‚¬ ì‚¬ìš©
5. **íŒŒì¼ëª… ê·œì¹™**: í´ë˜ìŠ¤ëª…ê³¼ íŒŒì¼ëª… ì¼ì¹˜

ì´ êµ¬ì¡°ë¥¼ ë”°ë¼ ë°±ì—”ë“œ ê°œë°œì„ ì§„í–‰í•˜ë©´ ì¼ê´€ì„± ìˆê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
description:
globs:
alwaysApply: false
---
