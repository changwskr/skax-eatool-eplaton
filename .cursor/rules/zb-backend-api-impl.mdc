# Backend API Implementation Guide

## ğŸš€ **SKAX EA Tool Eplaton API Implementation Rules**

### **ğŸ—ï¸ API ì•„í‚¤í…ì²˜ ê°œìš”**

```
ğŸ“¦ API Layer Structure
â”œâ”€â”€ ğŸ¯ AC (Application Control) Layer
â”‚   â”œâ”€â”€ REST Controllers (@RestController)
â”‚   â”œâ”€â”€ Request/Response Handling
â”‚   â””â”€â”€ Input Validation
â”œâ”€â”€ ğŸ”§ AS (Application Service) Layer
â”‚   â”œâ”€â”€ Business Logic
â”‚   â”œâ”€â”€ Transaction Management
â”‚   â””â”€â”€ Service Orchestration
â”œâ”€â”€ ğŸ“Š PC (Presentation Control) Layer
â”‚   â”œâ”€â”€ DTOs (Data Transfer Objects)
â”‚   â”œâ”€â”€ Request/Response Models
â”‚   â””â”€â”€ Data Transformation
â””â”€â”€ ğŸ’¾ DC (Data Control) Layer
    â”œâ”€â”€ Data Access
    â”œâ”€â”€ Repository Pattern
    â””â”€â”€ Database Operations
```

### **ğŸ¯ MUST FOLLOW - API êµ¬í˜„ ê·œì¹™**

#### **1. ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ êµ¬ì¡°**

**âœ… ì˜¬ë°”ë¥¸ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬ì¡°**
```java
/**
 * {ë„ë©”ì¸} ê´€ë¦¬ Application Control
 * 
 * í”„ë¡œê·¸ë¨ëª…: AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.java
 * ì„¤ëª…: {ë„ë©”ì¸} ê´€ë¦¬ REST API ì»¨íŠ¸ë¡¤ëŸ¬
 * ì‘ì„±ì¼: 2024-01-01
 * ì‘ì„±ì: SKAX Project Team
 * 
 * ì£¼ìš” ê¸°ëŠ¥:
 * - {ë„ë©”ì¸} CRUD API
 * - ì…ë ¥ ë°ì´í„° ê²€ì¦
 * - AS í˜¸ì¶œ ë° ê²°ê³¼ ë°˜í™˜
 * 
 * @version 1.0
 */
@RestController
@RequestMapping({ "/api/{domain}", "/{module}/{domain}" })
@Tag(name = "{ë„ë©”ì¸} ê´€ë¦¬", description = "{ë„ë©”ì¸} ê´€ë¦¬ ê´€ë ¨ API")
@CrossOrigin(origins = "*")
public class AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸} implements NewIApplicationService {

    private static final org.slf4j.Logger logger = 
        org.slf4j.LoggerFactory.getLogger(AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.class);

    @Autowired
    private AS{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸} as{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸};

    // API ë©”ì„œë“œë“¤...
}
```

#### **2. HTTP ë©”ì„œë“œë³„ API êµ¬í˜„**

**âœ… GET API - ì¡°íšŒ**
```java
/**
 * {ë„ë©”ì¸} ëª©ë¡ ì¡°íšŒ API
 */
@GetMapping("/list")
@Operation(summary = "{ë„ë©”ì¸} ëª©ë¡ ì¡°íšŒ", description = "{ë„ë©”ì¸} ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.")
@ApiResponses(value = {
    @ApiResponse(responseCode = "200", description = "ì¡°íšŒ ì„±ê³µ", 
                content = @Content(mediaType = "application/json", 
                schema = @Schema(implementation = Map.class))),
    @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ìš”ì²­", 
                content = @Content(mediaType = "application/json"))
})
public ResponseEntity<Map<String, Object>> get{ë„ë©”ì¸}List(
        @Parameter(description = "ê²€ìƒ‰ í‚¤ì›Œë“œ") 
        @RequestParam(required = false) String searchKeyword,
        @Parameter(description = "í˜ì´ì§€ ë²ˆí˜¸") 
        @RequestParam(defaultValue = "1") Integer page,
        @Parameter(description = "í˜ì´ì§€ í¬ê¸°") 
        @RequestParam(defaultValue = "10") Integer size) {
    
    logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.get{ë„ë©”ì¸}List START ===");
    
    try {
        // 1. ì…ë ¥ ë°ì´í„° ê²€ì¦
        validateSearchParameters(searchKeyword, page, size);
        
        // 2. AS í˜¸ì¶œ
        NewKBData reqData = new NewKBData();
        NewGenericDto input = reqData.getInputGenericDto().using(NewGenericDto.INDATA);
        input.put("searchKeyword", searchKeyword);
        input.put("page", page);
        input.put("size", size);
        input.put("command", "LIST");
        
        NewKBData result = as{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.execute(reqData);
        
        Map<String, Object> response = new HashMap<>();
        response.put("success", true);
        response.put("message", "{ë„ë©”ì¸} ëª©ë¡ ì¡°íšŒê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
        response.put("data", result);
        
        logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.get{ë„ë©”ì¸}List END ===");
        return ResponseEntity.ok(response);
        
    } catch (Exception e) {
        logger.error("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.get{ë„ë©”ì¸}List - Error: {} ===", e.getMessage());
        Map<String, Object> response = new HashMap<>();
        response.put("success", false);
        response.put("message", "{ë„ë©”ì¸} ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸: " + e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
}
```

**âœ… POST API - ìƒì„±**
```java
/**
 * {ë„ë©”ì¸} ìƒì„± ì²˜ë¦¬ (POST) - REST API
 */
@PostMapping
@ResponseBody
@Operation(summary = "{ë„ë©”ì¸} ìƒì„±", description = "ìƒˆë¡œìš´ {ë„ë©”ì¸}ì„ ìƒì„±í•©ë‹ˆë‹¤.")
@ApiResponses(value = {
    @ApiResponse(responseCode = "200", description = "{ë„ë©”ì¸} ìƒì„± ì„±ê³µ"),
    @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ìš”ì²­")
})
public ResponseEntity<Map<String, Object>> create{ë„ë©”ì¸}Post(
        @RequestBody {ë„ë©”ì¸}PDTO {ë„ë©”ì¸}PDTO) throws NewBusinessException {
    
    logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.create{ë„ë©”ì¸}Post START ===");
    logger.info("=== Input {ë„ë©”ì¸}PDTO: {} ===", {ë„ë©”ì¸}PDTO);
    
    try {
        // 1. ì…ë ¥ ë°ì´í„° ê²€ì¦
        validateInputData({ë„ë©”ì¸}PDTO);
        
        // 2. AS í˜¸ì¶œ
        NewKBData reqData = new NewKBData();
        NewGenericDto input = reqData.getInputGenericDto().using(NewGenericDto.INDATA);
        input.put("{ë„ë©”ì¸}PDTO", {ë„ë©”ì¸}PDTO);
        input.put("command", "CREATE");
        
        NewKBData result = as{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.execute(reqData);
        
        Map<String, Object> response = new HashMap<>();
        response.put("success", true);
        response.put("message", "{ë„ë©”ì¸}ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.");
        response.put("data", result);
        
        logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.create{ë„ë©”ì¸}Post END ===");
        return ResponseEntity.ok(response);
        
    } catch (Exception e) {
        logger.error("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.create{ë„ë©”ì¸}Post - Error: {} ===", e.getMessage());
        Map<String, Object> response = new HashMap<>();
        response.put("success", false);
        response.put("message", "{ë„ë©”ì¸} ìƒì„± ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸: " + e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
}
```

**âœ… PUT API - ìˆ˜ì •**
```java
/**
 * {ë„ë©”ì¸} ìˆ˜ì • ì²˜ë¦¬ (PUT)
 */
@PutMapping("/{id}")
@Operation(summary = "{ë„ë©”ì¸} ìˆ˜ì •", description = "ê¸°ì¡´ {ë„ë©”ì¸}ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.")
public ResponseEntity<Map<String, Object>> update{ë„ë©”ì¸}(
        @Parameter(description = "{ë„ë©”ì¸} ID") @PathVariable String id,
        @RequestBody {ë„ë©”ì¸}PDTO {ë„ë©”ì¸}PDTO) throws NewBusinessException {
    
    logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.update{ë„ë©”ì¸} START ===");
    logger.info("=== ID: {}, Input: {} ===", id, {ë„ë©”ì¸}PDTO);
    
    try {
        // 1. ì…ë ¥ ë°ì´í„° ê²€ì¦
        validateInputData({ë„ë©”ì¸}PDTO);
        {ë„ë©”ì¸}PDTO.setId(id); // ID ì„¤ì •
        
        // 2. AS í˜¸ì¶œ
        NewKBData reqData = new NewKBData();
        NewGenericDto input = reqData.getInputGenericDto().using(NewGenericDto.INDATA);
        input.put("{ë„ë©”ì¸}PDTO", {ë„ë©”ì¸}PDTO);
        input.put("command", "UPDATE");
        
        NewKBData result = as{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.execute(reqData);
        
        Map<String, Object> response = new HashMap<>();
        response.put("success", true);
        response.put("message", "{ë„ë©”ì¸}ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
        response.put("data", result);
        
        logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.update{ë„ë©”ì¸} END ===");
        return ResponseEntity.ok(response);
        
    } catch (Exception e) {
        logger.error("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.update{ë„ë©”ì¸} - Error: {} ===", e.getMessage());
        Map<String, Object> response = new HashMap<>();
        response.put("success", false);
        response.put("message", "{ë„ë©”ì¸} ìˆ˜ì • ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸: " + e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
}
```

**âœ… DELETE API - ì‚­ì œ**
```java
/**
 * {ë„ë©”ì¸} ì‚­ì œ ì²˜ë¦¬ (DELETE)
 */
@DeleteMapping("/{id}")
@Operation(summary = "{ë„ë©”ì¸} ì‚­ì œ", description = "ê¸°ì¡´ {ë„ë©”ì¸}ì„ ì‚­ì œí•©ë‹ˆë‹¤.")
public ResponseEntity<Map<String, Object>> delete{ë„ë©”ì¸}(
        @Parameter(description = "{ë„ë©”ì¸} ID") @PathVariable String id) 
        throws NewBusinessException {
    
    logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.delete{ë„ë©”ì¸} START ===");
    logger.info("=== ID: {} ===", id);
    
    try {
        // 1. ì…ë ¥ ë°ì´í„° ê²€ì¦
        if (id == null || id.trim().isEmpty()) {
            throw new NewBusinessException("IDëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.");
        }
        
        // 2. AS í˜¸ì¶œ
        NewKBData reqData = new NewKBData();
        NewGenericDto input = reqData.getInputGenericDto().using(NewGenericDto.INDATA);
        input.put("id", id);
        input.put("command", "DELETE");
        
        NewKBData result = as{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.execute(reqData);
        
        Map<String, Object> response = new HashMap<>();
        response.put("success", true);
        response.put("message", "{ë„ë©”ì¸}ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
        response.put("data", result);
        
        logger.info("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.delete{ë„ë©”ì¸} END ===");
        return ResponseEntity.ok(response);
        
    } catch (Exception e) {
        logger.error("=== AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}.delete{ë„ë©”ì¸} - Error: {} ===", e.getMessage());
        Map<String, Object> response = new HashMap<>();
        response.put("success", false);
        response.put("message", "{ë„ë©”ì¸} ì‚­ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸: " + e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
}
```

#### **3. DTO í´ë˜ìŠ¤ êµ¬ì¡°**

**âœ… DTO í´ë˜ìŠ¤ êµ¬ì¡°**
```java
/**
 * {ë„ë©”ì¸}PDTO class - Entityì™€ ì¼ì¹˜í•˜ëŠ” í•„ë“œëª…ìœ¼ë¡œ ìˆ˜ì •
 */
public class {ë„ë©”ì¸}PDTO extends NewAbstractDTO {

    // í•„ìˆ˜ í•„ë“œ
    private String id;                    // ID
    private String name;                  // ì´ë¦„
    private String status;                // ìƒíƒœ
    private String createdDate;           // ìƒì„±ì¼
    private String updatedDate;           // ìˆ˜ì •ì¼
    
    // ë„ë©”ì¸ë³„ í•„ë“œ
    private String {ë„ë©”ì¸}SpecificField1;  // ë„ë©”ì¸ íŠ¹í™” í•„ë“œ1
    private String {ë„ë©”ì¸}SpecificField2;  // ë„ë©”ì¸ íŠ¹í™” í•„ë“œ2
    
    // ê¸°ë³¸ ìƒì„±ì
    public {ë„ë©”ì¸}PDTO() {
        // Default constructor
    }
    
    // Getters and Setters
    public String getId() {
        return id;
    }
    
    public void setId(String id) {
        this.id = id;
    }
    
    // ... ë‚˜ë¨¸ì§€ getter/setter ë©”ì„œë“œë“¤
}
```

#### **4. ì…ë ¥ ë°ì´í„° ê²€ì¦**

**âœ… ê²€ì¦ ë©”ì„œë“œ êµ¬ì¡°**
```java
/**
 * ì…ë ¥ ë°ì´í„° ê²€ì¦ ({ë„ë©”ì¸}PDTOìš©)
 * 
 * @param {ë„ë©”ì¸}PDTO {ë„ë©”ì¸} ì •ë³´
 * @throws NewBusinessException ê²€ì¦ ì‹¤íŒ¨ ì‹œ
 */
private void validateInputData({ë„ë©”ì¸}PDTO {ë„ë©”ì¸}PDTO) throws NewBusinessException {
    if ({ë„ë©”ì¸}PDTO == null) {
        throw new NewBusinessException("{ë„ë©”ì¸}PDTOê°€ nullì…ë‹ˆë‹¤.");
    }
    
    // í•„ìˆ˜ í•„ë“œ ê²€ì¦
    if ({ë„ë©”ì¸}PDTO.getName() == null || {ë„ë©”ì¸}PDTO.getName().trim().isEmpty()) {
        throw new NewBusinessException("ì´ë¦„ì€ í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.");
    }
    
    // ë„ë©”ì¸ë³„ ê²€ì¦ ë¡œì§
    validate{ë„ë©”ì¸}SpecificFields({ë„ë©”ì¸}PDTO);
    
    logger.debug("AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸} - ì…ë ¥ ë°ì´í„° ê²€ì¦ ì™„ë£Œ");
}

/**
 * {ë„ë©”ì¸} íŠ¹í™” í•„ë“œ ê²€ì¦
 */
private void validate{ë„ë©”ì¸}SpecificFields({ë„ë©”ì¸}PDTO {ë„ë©”ì¸}PDTO) 
    throws NewBusinessException {
    // ë„ë©”ì¸ë³„ íŠ¹í™” ê²€ì¦ ë¡œì§ êµ¬í˜„
}
```

### **ğŸš« NEVER DO - API êµ¬í˜„ ìœ„ë°˜ì‚¬í•­**

#### **1. ì˜ëª»ëœ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬ì¡°**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ
@Controller  // @RestController ì‚¬ìš©í•´ì•¼ í•¨
@RequestMapping("/api")
public class AccountController {
    
    @Autowired
    private AccountService accountService;  // AS ë ˆì´ì–´ ì§ì ‘ ì˜ì¡´
    
    @GetMapping("/accounts")
    public String getAccounts(Model model) {  // String ë°˜í™˜
        // ...
    }
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
@RestController
@RequestMapping("/api/account")
public class ACMBC71001 implements NewIApplicationService {
    
    @Autowired
    private ASMBC71001 asMbc71001;  // AS ë ˆì´ì–´ë§Œ ì˜ì¡´
    
    @GetMapping("/list")
    public ResponseEntity<Map<String, Object>> getAccountList() {
        // ...
    }
}
```

#### **2. ì˜ëª»ëœ ì‘ë‹µ êµ¬ì¡°**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ
@GetMapping("/list")
public List<Account> getAccounts() {  // ì§ì ‘ Entity ë°˜í™˜
    return accountRepository.findAll();
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
@GetMapping("/list")
public ResponseEntity<Map<String, Object>> getAccounts() {
    Map<String, Object> response = new HashMap<>();
    response.put("success", true);
    response.put("message", "ì¡°íšŒ ì™„ë£Œ");
    response.put("data", result);
    return ResponseEntity.ok(response);
}
```

#### **3. ì˜ëª»ëœ ì˜ˆì™¸ ì²˜ë¦¬**
```java
// âŒ ì˜ëª»ëœ ì˜ˆì‹œ
@PostMapping
public ResponseEntity<Map<String, Object>> createAccount(@RequestBody AccountPDTO dto) {
    try {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        return ResponseEntity.ok(result);
    } catch (Exception e) {
        return ResponseEntity.status(500).body(null);  // ìƒì„¸ ì •ë³´ ì—†ìŒ
    }
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
@PostMapping
public ResponseEntity<Map<String, Object>> createAccount(@RequestBody AccountPDTO dto) {
    try {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        Map<String, Object> response = new HashMap<>();
        response.put("success", true);
        response.put("message", "ìƒì„± ì™„ë£Œ");
        response.put("data", result);
        return ResponseEntity.ok(response);
    } catch (Exception e) {
        logger.error("ê³„ì • ìƒì„± ì¤‘ ì˜¤ë¥˜: {}", e.getMessage(), e);
        Map<String, Object> response = new HashMap<>();
        response.put("success", false);
        response.put("message", "ê³„ì • ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸: " + e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
}
```

### **ğŸ“‹ API êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸**

#### **ìƒˆë¡œìš´ API ê°œë°œ ì‹œ**
- [ ] ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ëª…: `AC{ëª¨ë“ˆ}{ê¸°ëŠ¥ë²ˆí˜¸}` í˜•ì‹
- [ ] `@RestController` ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©
- [ ] `@RequestMapping` ê²½ë¡œ ì„¤ì •
- [ ] `@Tag` Swagger ë¬¸ì„œí™”
- [ ] `@CrossOrigin` CORS ì„¤ì •
- [ ] `NewIApplicationService` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- [ ] AS ë ˆì´ì–´ ì˜ì¡´ì„± ì£¼ì…
- [ ] ë¡œê¹… ì„¤ì • (`org.slf4j.Logger`)

#### **HTTP ë©”ì„œë“œë³„ êµ¬í˜„**
- [ ] GET: ëª©ë¡ ì¡°íšŒ, ìƒì„¸ ì¡°íšŒ
- [ ] POST: ìƒì„±
- [ ] PUT: ìˆ˜ì •
- [ ] DELETE: ì‚­ì œ
- [ ] ê° ë©”ì„œë“œì— ì ì ˆí•œ `@Operation` ì–´ë…¸í…Œì´ì…˜
- [ ] `@ApiResponses` ì‘ë‹µ ì •ì˜

#### **ë°ì´í„° ê²€ì¦**
- [ ] ì…ë ¥ ë°ì´í„° null ì²´í¬
- [ ] í•„ìˆ˜ í•„ë“œ ê²€ì¦
- [ ] ë„ë©”ì¸ë³„ íŠ¹í™” ê²€ì¦
- [ ] `NewBusinessException` ì‚¬ìš©

#### **ì‘ë‹µ êµ¬ì¡°**
- [ ] `ResponseEntity<Map<String, Object>>` ì‚¬ìš©
- [ ] `success` í•„ë“œ í¬í•¨
- [ ] `message` í•„ë“œ í¬í•¨
- [ ] `data` í•„ë“œ í¬í•¨
- [ ] ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ë°˜í™˜

#### **ë¡œê¹…**
- [ ] ë©”ì„œë“œ ì‹œì‘/ì¢…ë£Œ ë¡œê¹…
- [ ] ì…ë ¥ íŒŒë¼ë¯¸í„° ë¡œê¹…
- [ ] ì˜¤ë¥˜ ë°œìƒ ì‹œ ìƒì„¸ ë¡œê¹…
- [ ] ì„±ê³µ/ì‹¤íŒ¨ ê²°ê³¼ ë¡œê¹…

### **ğŸ”§ íŠ¹ë³„í•œ API íŒ¨í„´**

#### **1. í˜ì´ì§€ë„¤ì´ì…˜ API**
```java
@GetMapping("/list")
public ResponseEntity<Map<String, Object>> getList(
        @RequestParam(defaultValue = "1") Integer page,
        @RequestParam(defaultValue = "10") Integer size,
        @RequestParam(required = false) String searchKeyword) {
    
    // í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§
    int offset = (page - 1) * size;
    
    // AS í˜¸ì¶œ ì‹œ í˜ì´ì§€ë„¤ì´ì…˜ ì •ë³´ ì „ë‹¬
    input.put("page", page);
    input.put("size", size);
    input.put("offset", offset);
    input.put("searchKeyword", searchKeyword);
}
```

#### **2. ê²€ìƒ‰ API**
```java
@GetMapping("/search")
public ResponseEntity<Map<String, Object>> search(
        @RequestParam String keyword,
        @RequestParam(required = false) String searchType,
        @RequestParam(required = false) String filter) {
    
    // ê²€ìƒ‰ ì¡°ê±´ ì„¤ì •
    input.put("keyword", keyword);
    input.put("searchType", searchType);
    input.put("filter", filter);
}
```

#### **3. ë°°ì¹˜ ì²˜ë¦¬ API**
```java
@PostMapping("/batch")
public ResponseEntity<Map<String, Object>> batchProcess(
        @RequestBody List<{ë„ë©”ì¸}PDTO> {ë„ë©”ì¸}List) {
    
    // ë°°ì¹˜ ì²˜ë¦¬ ë¡œì§
    input.put("{ë„ë©”ì¸}List", {ë„ë©”ì¸}List);
    input.put("command", "BATCH_PROCESS");
}
```

### **ğŸ“ API ë¬¸ì„œí™” ê°€ì´ë“œ**

#### **Swagger ì–´ë…¸í…Œì´ì…˜**
```java
@Operation(summary = "API ì œëª©", description = "API ìƒì„¸ ì„¤ëª…")
@ApiResponses(value = {
    @ApiResponse(responseCode = "200", description = "ì„±ê³µ"),
    @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ìš”ì²­"),
    @ApiResponse(responseCode = "500", description = "ì„œë²„ ì˜¤ë¥˜")
})
@Parameter(description = "íŒŒë¼ë¯¸í„° ì„¤ëª…", required = true, example = "ì˜ˆì‹œê°’")
```

#### **ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ**
```java
@PostMapping
@Operation(summary = "ê³„ì • ìƒì„±", description = "ìƒˆë¡œìš´ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤.")
@ApiResponses(value = {
    @ApiResponse(responseCode = "200", description = "ê³„ì • ìƒì„± ì„±ê³µ", 
                content = @Content(mediaType = "application/json", 
                schema = @Schema(implementation = Map.class), 
                examples = @ExampleObject(name = "ì„±ê³µ ì‘ë‹µ", 
                value = "{\"success\": true, \"message\": \"ê³„ì •ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\", \"data\": {}}"))),
    @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ìš”ì²­", 
                content = @Content(mediaType = "application/json", 
                schema = @Schema(implementation = Map.class), 
                examples = @ExampleObject(name = "ì˜¤ë¥˜ ì‘ë‹µ", 
                value = "{\"success\": false, \"message\": \"ê³„ì • ìƒì„± ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\"}")))
})
```

### **âš ï¸ ì£¼ì˜ì‚¬í•­**

1. **ë ˆì´ì–´ ê°„ ì˜ì¡´ì„±**: AC â†’ AS â†’ DC ìˆœì„œë§Œ í—ˆìš©
2. **ì‘ë‹µ í˜•ì‹ í†µì¼**: ëª¨ë“  APIëŠ” ë™ì¼í•œ ì‘ë‹µ êµ¬ì¡° ì‚¬ìš©
3. **ì˜ˆì™¸ ì²˜ë¦¬**: ëª¨ë“  APIì—ì„œ ì ì ˆí•œ ì˜ˆì™¸ ì²˜ë¦¬ êµ¬í˜„
4. **ë¡œê¹…**: ëª¨ë“  APIì—ì„œ ìƒì„¸í•œ ë¡œê¹… êµ¬í˜„
5. **ê²€ì¦**: ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ê²€ì¦ ë¡œì§ êµ¬í˜„
6. **ë¬¸ì„œí™”**: Swaggerë¥¼ í†µí•œ API ë¬¸ì„œí™” í•„ìˆ˜

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ APIë¥¼ êµ¬í˜„í•˜ë©´ ì¼ê´€ì„± ìˆê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ë°±ì—”ë“œ APIë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
description:
globs:
alwaysApply: false
---
